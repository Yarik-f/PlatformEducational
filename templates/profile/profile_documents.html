{% extends 'index.html' %}
{% load static %}
{% block title %}
    <title>–î–æ–∫—É–º–µ–Ω—Ç—ã</title>
{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}
{% block content %}
    <div class="profile-container">
        {% include 'profile/profile_menu.html' %}
        <div class="document-content">
            <h2>–í–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</h2>
            {% if role == 'Guest' %}
                <form method="post" enctype="multipart/form-data" class="upload-form">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="btn-upload">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                </form>
            {% endif %}

            <div class="document-list">
                <h3>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</h3>
                <ul class="file-list">
                    {% for file in user_files %}
                        <li class="file-item">
                            <span class="file-icon">üìÑ</span>
                            {{ file.file.name }}
                            {% if role != 'Guest' %}
                                <a href="{% url 'download_archive' archive.id %}" class="download-link">
                                    –°–∫–∞—á–∞—Ç—å
                                </a>
                            {% endif %}
                        </li>
                    {% empty %}
                        <li class="file-item no-files">–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.</li>
                    {% endfor %}

                </ul>
                <h3>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã</h3>
                <ul class="file-list">
                    {% for archive in user_archive %}
                        <li class="file-item">
                            <span class="file-icon">üì¶</span>
                            {{ archive.archive.name }}
                            {% if role != 'Guest' %}
                                <a href="{% url 'download_archive' archive.id %}" class="download-link">
                                    –°–∫–∞—á–∞—Ç—å
                                </a>
                            {% endif %}
                        </li>
                    {% empty %}
                        <li class="file-item no-files">–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤.</li>
                    {% endfor %}
                </ul>
                {% if role == 'Guest' %}
                    <form method="post" action="{% url 'archive_files' %}" class="archive-form">
                        {% csrf_token %}
                        <button type="submit" class="btn-archive">–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </form>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
